{% extends 'carwash/base.html' %}
{% load static %}

{% block content %}
<section class="gallery py-5">
    <div class="container">
        <h1 class="text-center mb-5">Наша галерея</h1>

        <div class="swiper-container">
            <div class="swiper-wrapper">
                {% for photo in photos %}
                <div class="swiper-slide">
                    <img src="{{ photo.image.url }}" 
                         class="img-fluid rounded" 
                         alt="{{ photo.title }}"
                         loading="lazy">
                    <div class="swiper-caption">
                        <p class="mb-0">{{ photo.description }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <!-- Элементы управления -->
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const swiper = new Swiper('.swiper-container', {
            effect: 'coverflow',
            grabCursor: true,
            centeredSlides: true,
            slidesPerView: 3,
            loop: true,
            coverflowEffect: {
                rotate: 20,
                stretch: 0,
                depth: 300,
                modifier: 1,
                slideShadows: false,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            autoplay: {
                delay: 3000,
                disableOnInteraction: false,
            },
        });
    });
</script>

{% endblock %}